---
tags:
  - docs
---
## Маршруты

## Users
### /api/user/create
##### Доступно ролям: 
- ADMIN
##### Метод запроса - post
##### Тело запроса
```json
{
	userName: string
	connToFld: bool | null
}
```
На сервере генерируется root папка пользователя одноименная с его user_name. Пользователю автоматически 
#### Заполняемые таблицы
1) user_tokens
2) folders
3) users
4) folder_access
#### Возможные ошибки
**ErrInconsistentState** — данные в базе оказались в несогласованном состоянии. Требуется ручное вмешательство (удаление пользователя и/или его токенов).

### /api/user/delete
##### Доступно ролям: 
- ADMIN
##### Метод запроса - delete
##### Тело запроса
```json
{}
```
#### Бизнес правила
Полностью удаляет всю информацию о пользователе. Папки, файлы, удаляет доступы к папкам и файлам у других пользователей.
#### Очищаемые таблицы
1) user_tokens
2) folders
3) users
4) folder_access
### /api/user/gen_token
##### Доступно ролям: ADMIN

##### Метод запроса - PATCH
##### Тело запроса
```json
{
	
}
```
#### Бизнес правила

#### Заполняемые таблицы

#### Возможные ошибки


#### Возможные ошибки

## Folders

### /api/fld/delete/:fldName
##### Доступно ролям: USER, ADMIN

##### Метод запроса - DELETE
##### Тело запроса
```json
{}
```
#### Бизнес правила
Удаление папки пользователя (не main) вместе с ее содержимым.
#### Очищаемые таблицы
- folders
- folder_access
#### Возможные ошибки
- **ErrFldDeleteFailed**
- ErrFldNotFound
- 

